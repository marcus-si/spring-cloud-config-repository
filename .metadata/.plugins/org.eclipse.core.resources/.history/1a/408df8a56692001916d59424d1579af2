package eureka_consumer_1_demo;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.client.RestTemplate;

import eurekaserviceapi.EurekaServiceApi;
import eurekaserviceapi.NewEurekaServiceApi;

@RestController
public class MessageController {
	
//    @Autowired
//    RestTemplate restTemplate;
    @Autowired
    @Qualifier("EurekaService")
    EurekaServiceApi eurekaServiceApi;
    @Autowired
    @Qualifier("NewEurekaService")
    NewEurekaServiceApi newEurekaServiceApi;
    
    @GetMapping("/show")
    public String showMsg() {
    	return "Consumer " + eurekaServiceApi.getMsg();
    }
    
    @GetMapping("/showNew")
    public String showNewMsg() {
    	return "New Message " + newEurekaServiceApi.getNewMsg();
    }

//    @GetMapping("/show")
//    public String showMessage(){
//	    // 服务提供者url、返回数据类型
//        String s = restTemplate.getForObject("http://client-1/get", String.class);
//        return "consumer获取信息："+s;
//    }
	
}
